schema: '2.0'
stages:
  remove_corrupted_images:
    cmd: python src/remove_corrupted_images.py data/inputs
    deps:
    - path: data/inputs/01_data_collection_16_oct_2021
      md5: 1562bef8393a9f698099fa8ea5820051.dir
      size: 2465294
      nfiles: 23
    - path: src/remove_corrupted_images.py
      md5: 45a99fc77783fb471a49c474a9707ba8
      size: 1325
    outs:
    - path: data/intermediate/remove_corrupted_images
      md5: 0ec0ad2a8af99bd2959f0f59b4c12f68.dir
      size: 2402206
      nfiles: 21
  remove_dark_and_bright_images:
    cmd: python src/remove_dark_and_bright_images.py data/intermediate/remove_corrupted_images
    deps:
    - path: data/intermediate/remove_corrupted_images
      md5: 0ec0ad2a8af99bd2959f0f59b4c12f68.dir
      size: 2402206
      nfiles: 21
    - path: src/remove_dark_and_bright_images.py
      md5: 3ea115a327b093e41969a1fc5724ea15
      size: 1576
    params:
      params.yaml:
        remove_dark_and_bright_images.bright_image_threshold: 200
        remove_dark_and_bright_images.dark_image_threshold: 20
    outs:
    - path: data/intermediate/remove_dark_and_bright_images
      md5: 96d4e62821f6ab7afba0cb0a7cfa4aee.dir
      size: 2217178
      nfiles: 16
  classify_day_night_and_foggy_images:
    cmd: python src/classify_day_night_and_foggy_images.py data/intermediate/remove_dark_and_bright_images
    deps:
    - path: data/intermediate/remove_dark_and_bright_images
      md5: 96d4e62821f6ab7afba0cb0a7cfa4aee.dir
      size: 2217178
      nfiles: 16
    - path: src/classify_day_night_and_foggy_images.py
      md5: 4a57d2b9fc9048746d631bed45d95e46
      size: 3051
    params:
      params.yaml:
        classify_day_night_and_foggy_images.day_night_image_threshold: 100
        classify_day_night_and_foggy_images.fog_image_threshold: 500
    outs:
    - path: data/outputs/day_images/foggy
      md5: df8e2365b8ca2670b345f47550b945cd.dir
      size: 113445
      nfiles: 2
    - path: data/outputs/day_images/sharp
      md5: bf1a748121b653dcf03ec5ce6919c778.dir
      size: 1642809
      nfiles: 9
    - path: data/outputs/night_images/foggy
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/outputs/night_images/sharp
      md5: 2d7aca7c84b067bb382067d2f3f30506.dir
      size: 460924
      nfiles: 5
