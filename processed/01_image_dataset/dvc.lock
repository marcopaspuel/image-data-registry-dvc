schema: '2.0'
stages:
  remove_corrupted_images:
    cmd: python src/remove_corrupted_images.py data/inputs
    deps:
    - path: data/inputs/01_data_collection_16_oct_2021
      md5: 440c122aaeb1aec8b17cdffbfd1f5f49.dir
      size: 2833351
      nfiles: 27
    - path: src/remove_corrupted_images.py
      md5: 45a99fc77783fb471a49c474a9707ba8
      size: 1325
    outs:
    - path: data/intermediate/remove_corrupted_images
      md5: db86341a50c18dfe57815f2b0fcf26fe.dir
      size: 2770263
      nfiles: 25
  remove_dark_and_bright_images:
    cmd: python src/remove_dark_and_bright_images.py data/intermediate/remove_corrupted_images
    deps:
    - path: data/intermediate/remove_corrupted_images
      md5: db86341a50c18dfe57815f2b0fcf26fe.dir
      size: 2770263
      nfiles: 25
    - path: src/remove_dark_and_bright_images.py
      md5: 3ea115a327b093e41969a1fc5724ea15
      size: 1576
    params:
      params.yaml:
        remove_dark_and_bright_images.bright_image_threshold: 200
        remove_dark_and_bright_images.dark_image_threshold: 20
    outs:
    - path: data/intermediate/remove_dark_and_bright_images
      md5: 86c58a80cf1de17566d7b21d42f8361e.dir
      size: 2585235
      nfiles: 20
  classify_day_night_and_foggy_images:
    cmd: python src/classify_day_night_and_foggy_images.py data/intermediate/remove_dark_and_bright_images
    deps:
    - path: data/intermediate/remove_dark_and_bright_images
      md5: 86c58a80cf1de17566d7b21d42f8361e.dir
      size: 2585235
      nfiles: 20
    - path: src/classify_day_night_and_foggy_images.py
      md5: 4a57d2b9fc9048746d631bed45d95e46
      size: 3051
    params:
      params.yaml:
        classify_day_night_and_foggy_images.day_night_image_threshold: 100
        classify_day_night_and_foggy_images.fog_image_threshold: 500
    outs:
    - path: data/outputs/day_images/foggy
      md5: f1e43cbf5cb2a38a93cd7a7c28e895a9.dir
      size: 189269
      nfiles: 3
    - path: data/outputs/day_images/sharp
      md5: a8a0cbb4b59db5391547dd52dcf6eb41.dir
      size: 1828249
      nfiles: 10
    - path: data/outputs/night_images/foggy
      md5: 35a82816909294ef63964147a7d5510b.dir
      size: 9509
      nfiles: 1
    - path: data/outputs/night_images/sharp
      md5: 559c0d334d4ad773d2e6ee962ebf19bb.dir
      size: 558208
      nfiles: 6
